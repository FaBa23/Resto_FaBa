"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1879],{17769:function(e,l,n){n.d(l,{G:function(){return t},Z:function(){return Z}});var a,t,s=n(59658),i=n(46012),o=n(12154),r=n(40918),d=(n(23329),n(71872),n(443)),c=n(14123),m=n(29051),u=n(29469),g=n(78115),v=n(28802),f=n(83809),x=n(73370),p=e=>{let{closingState:l}=e,{t:n}=(0,u.Z)("common");return l===t.ClosingSoon?(0,s.jsxs)("div",{className:"mb-3 flex items-center md:mb-4 lg:mb-2",children:[(0,s.jsx)(x.Z,{className:"w-3.5 text-gf-support-warning-default"}),(0,s.jsx)("span",{className:"ml-1 mt-[1px] gf-label-s",children:n("closing_soon")})]}):l===t.Closed?(0,s.jsxs)("div",{className:"mb-3 flex items-center md:mb-4 lg:mb-2",children:[(0,s.jsx)(x.Z,{className:"w-3.5 text-gf-background-fill-brand"}),(0,s.jsx)("span",{className:"ml-1 mt-[1px] gf-label-s",children:n("closed")})]}):null},h=n(62693),b=e=>{let{percent:l,formattedAmount:n}=e,{t:a}=(0,u.Z)("common"),t=l||n,i=l?"".concat(l,"%"):"";return t?(0,s.jsxs)("div",{className:"flex space-x-1.5 lg:hidden",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 text-gf-background-fill-brand"}),(0,s.jsxs)("p",{className:"gf-body-xs",children:[!!(n&&!i)&&a("discount_total",{amount:n}),!!(i&&n)&&"".concat(a("discount_off",{amount:i}),"\n              ").concat(a("discount_up_to",{amount:n})),!!(i&&!n)&&a("discount_off",{amount:i})]})]}):null},j=e=>{let{percent:l,formattedAmount:n}=e,{t:a}=(0,u.Z)("common"),t=l||n,i=l?"".concat(l,"%"):"";return t?(0,s.jsxs)(m.Z,{variant:"fold-down",size:"s",className:(0,g.m)("absolute left-3 top-6 z-10 md:-left-1 md:top-4 md:block"),children:[!!(n&&!i)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"inline lg:hidden",children:a("discount_off",{amount:n})}),(0,s.jsx)("span",{className:"hidden lg:inline",children:a("discount_total",{amount:n})})]}),!!(i&&n)&&(0,s.jsxs)(s.Fragment,{children:[a("discount_off",{amount:i}),(0,s.jsx)("span",{className:"hidden lg:inline",children:"".concat(a("discount_up_to",{amount:n}))})]}),!!(i&&!n)&&a("discount_off",{amount:i})]}):null},N=n(54977),y=n(39708),w=n(16954),_=e=>{let{ratingsAverageDesc:l,deliveryDistanceKm:n,priceLevel:a,priceLevelDesc:t}=e,o=[];return o.push((0,s.jsx)("div",{className:"flex flex-col items-center justify-between",children:(0,s.jsxs)("div",{className:"flex",title:l,children:[(0,s.jsx)(y.Z,{className:"mr-1 h-4 w-4 text-gf-background-fill-brand"}),(0,s.jsxs)("span",{className:"gf-label-s",children:[0===n?"0.0":n," km"]})]})})),void 0!==a&&o.push((0,s.jsx)("div",{title:t,children:(0,s.jsx)(w.Z,{level:Number(a)})})),(0,s.jsx)(s.Fragment,{children:o.map((e,l)=>(0,s.jsxs)(i.Fragment,{children:[e,l!==o.length-1&&(0,s.jsx)("span",{className:"h-1 w-1 rounded-full bg-gf-content-primary"})]},"meta-".concat(l)))})};(a=t||(t={}))[a.Open=0]="Open",a[a.ClosingSoon=1]="ClosingSoon",a[a.Closed=2]="Closed";let C=(0,i.forwardRef)((e,l)=>{let{displayName:n,description:a,mediaCoverImgUrl:t,deliveryDistanceKm:x,ratingsAverage:h,ratingsAverageDesc:y="Rating",ratingsTotal:w,discountMaxAmount:C,discountMaxPercentage:Z,priceLevel:k,priceLevelDesc:A,renderCustomImage:S,smallRibbon:M,outlet:O,href:I,onClick:L,className:D,brandPath:P}=e,{t:K,lang:U}=(0,u.Z)(),z=(0,i.useMemo)(()=>{let e=(0,f.X)(O);return{...e,displayName:n||e.displayName,description:a||e.description,deliveryDistanceKm:x||e.deliveryDistanceKm,ratingsAverage:h||e.ratingsAverage,ratingsTotal:w||e.ratingsTotal,discountMaxAmount:C||e.discountMaxAmount,discountMaxPercentage:Z||e.discountMaxPercentage,priceLevel:k||e.priceLevel,mediaCoverImgUrl:t||e.mediaCoverImgUrl}},[x,a,C,Z,n,t,O,k,h,w]),G=(0,i.useMemo)(()=>(0,o.V2)(z.discountMaxAmount||null,U),[U,z.discountMaxAmount]);return O&&!O.core?null:(0,s.jsx)(v.r,{href:I,ref:l,onClick:L,className:"border-b border-gf-background-border-secondary outline-none transition-all duration-300 ease-in-out last-of-type:border-0 active:!border-transparent active:bg-gf-interactive-fill-active md:rounded-2xl md:border last-of-type:md:border hover:md:border-transparent hover:md:gf-shadow-high focus:md:border-gf-interactive-focus",children:(0,s.jsxs)(c.default,{className:(0,g.m)("relative flex cursor-pointer !rounded-none py-4 pl-6 pr-0","lg:h-auto lg:w-full lg:flex-col lg:p-2","md:min-h-[168px] md:!rounded-2xl md:p-1.5 md:pr-6",D),disableBorder:!0,children:[(0,s.jsx)(j,{formattedAmount:G,percent:Z}),(0,s.jsxs)("div",{className:"relative min-h-[156px] w-[126px] shrink-0 grow-0 overflow-hidden md:h-[156px] lg:h-[228px] lg:w-full",children:[(0,s.jsx)("div",{className:(0,g.m)("h-full w-full overflow-hidden rounded-xl relative",2===z.closingState&&"grayscale"),children:(0,s.jsx)(N.Z,{imgSrc:z.mediaCoverImgUrl||"",renderCustomImage:S})}),!!z.ratingsAverage&&(0,s.jsx)("div",{className:"absolute left-1/2 bottom-2 z-10 -translate-x-1/2 lg:left-auto lg:right-2 lg:translate-x-0",children:(0,s.jsx)(m.Z,{className:"!bg-gf-background-fill-primary !from-transparent !to-transparent !text-gf-content-primary",leftContent:(0,s.jsx)(r.Z,{className:"h-4 w-4 text-gf-support-warning-default"}),size:M?"s":"m",children:z.ratingsAverage})})]}),(0,s.jsxs)("div",{className:"h-full w-full py-2 pl-3 pr-4 text-gf-content-primary md:py-3 lg:px-2",children:[(0,s.jsx)(p,{closingState:z.closingState}),(0,s.jsx)("p",{className:"mb-2 line-clamp-2 gf-label-m",title:z.displayName,children:z.displayName}),!!z.description&&(0,s.jsx)("p",{className:"mb-2 text-gf-content-secondary line-clamp-1 gf-body-xs md:mb-4 lg:gf-body-s",title:z.description,children:z.description}),(0,s.jsxs)("div",{className:"mb-3 flex max-w-[220px] items-center justify-start space-x-3 md:mb-4",children:[(0,s.jsx)(_,{deliveryDistanceKm:z.deliveryDistanceKm,ratingsAverageDesc:y,priceLevel:z.priceLevel,priceLevelDesc:A}),(0,s.jsx)(b,{formattedAmount:G,percent:Z})]}),P&&(0,s.jsxs)("div",{className:"flex content-center",children:[!1,!1,P&&(0,s.jsx)(d.default,{as:v.r,href:P,variant:"tertiary",buttonSize:"s",className:"btn-area","aria-label":"more outlets",children:K("common:more_outlets_cta")})]})]})]})})});C.displayName="OutletCard";var Z=(0,i.memo)(C)},54977:function(e,l,n){var a=n(59658),t=n(78115),s=n(91885),i=n(48456);l.Z=e=>{let{className:l,renderCustomImage:n,imgSrc:o}=e;return"function"==typeof n?n(o):(0,a.jsx)(s.Z,{className:(0,t.m)("overflow-hidden rounded-xl object-cover",l),src:o||i.jp,alt:"outlet",fill:!0})}},83809:function(e,l,n){n.d(l,{X:function(){return i}});var a=n(48372),t=n(17769),s=n(48456);function i(e){var l,n,i,o,r,d,c,m,u,g,v,f;let x=(null==e?void 0:e.core)||{},p=t.G.Closed;switch(x.status){case a.Outlet_Status.OPEN:p=t.G.Open;break;case a.Outlet_Status.CLOSING_SOON:p=t.G.ClosingSoon}let h=null==e?void 0:null===(l=e.delivery)||void 0===l?void 0:l.etaRange;return{displayName:x.displayName,badge:x.badges||[],deliveryDistanceKm:null==e?void 0:null===(n=e.delivery)||void 0===n?void 0:n.distanceKm,deliveryEtaRange:h?"".concat(h.min," - ").concat(h.max):"",description:null===(i=x.tags)||void 0===i?void 0:i.map(e=>e.displayName).join(", "),address:((null===(o=x.address)||void 0===o?void 0:o.rows)||[]).join(", "),ratingsAverage:(null==e?void 0:null===(r=e.ratings)||void 0===r?void 0:r.average)||0,mediaCoverImgUrl:(null==e?void 0:null===(d=e.media)||void 0===d?void 0:d.coverImgUrl)||(null==e?void 0:null===(c=e.media)||void 0===c?void 0:c.logoImgUrl)||s.jp,priceLevel:null==e?void 0:e.priceLevel,halal:null===(m=x.certificates)||void 0===m?void 0:m.halal,ratingsTotal:(null==e?void 0:null===(u=e.ratings)||void 0===u?void 0:u.total)||0,openPeriods:x.openPeriods||[],discountMaxAmount:null==e?void 0:null===(v=e.discount)||void 0===v?void 0:null===(g=v.maxAmount)||void 0===g?void 0:g.nanos,discountMaxPercentage:null==e?void 0:null===(f=e.discount)||void 0===f?void 0:f.maxPercentage,closingState:p}}}}]);